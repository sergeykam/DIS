"<!DOCTYPE html><html><head><title>DIS Matrix</title><style>*{margin:0 0;padding:0;font-size:15px;}canvas{float:left;position:abs","olute;left:170px;top:22px;}.wrap{width:1270px;margin:0 auto;position:relative;}.panel{width:100%;height:22px;background:#faf2cc;","}.graph{float:left;width:630px;height:300px;margin:5px 0px;position:relative;}ul{list-style-type:none;display:inline;}.status{wi","dth:100px;padding:10px 0px;position:absolute;}.y{width:60px;position:absolute;left:90px;text-align:right;}.y ul li{height:25.5px",";}.x{width:498px;height:20px;position:absolute;bottom:0px;right:0px;}.x ul li{display:inline-block;width:42px;}#ld{position:abso","lute;top:50%;left:43%}</style></head><body><div id=\"ld\">Loading...</div><div class=\"panel\"><div class=\"wrap\"><select id=\"time\"><","option value=\"0\">No</option><option value=\"3\">3 sec</option><option value=\"5\">5 sec</option></select><input type=\"button\" onclic","k=\"get();\" value=\"Get\" />Data: <span id=\"data\"></span>Reg Exp: <span id=\"status\"></span></div></div><div class=\"wrap\"><div class","=\"graph\"><div class=\"status\"><ul><li id=\"g0\"></li><li id=\"dt0\"></li><li id=\"v0\"></li><li id=\"s0\"></li></ul></div><div class=\"y\">","<div id=\"dim0\"></div><ul><li id=\"y09\"></li><li id=\"y08\"></li><li id=\"y07\"></li><li id=\"y06\"></li><li id=\"y05\"></li><li id=\"y04\">","</li><li id=\"y03\"></li><li id=\"y02\"></li><li id=\"y01\"></li><li id=\"y00\"></li></ul></div><canvas id=\"c0\" width=\"450\" height=\"250\"","></canvas><div class=\"x\"><ul><li id=\"z0\"></li><li id=\"x00\"></li><li id=\"x01\"></li><li id=\"x02\"></li><li id=\"x03\"></li><li id=\"x0","4\"></li><li id=\"x05\"></li><li id=\"x06\"></li><li id=\"x07\"></li><li id=\"x08\"></li><li id=\"x09\"></li></ul></div></div><div class=\"g","raph\"><div class=\"status\"><ul><li id=\"g1\"></li><li id=\"dt1\"></li><li id=\"v1\"></li><li id=\"s1\"></li></ul></div><div class=\"y\"><di","v id=\"dim1\"></div><ul><li id=\"y19\"></li><li id=\"y18\"></li><li id=\"y17\"></li><li id=\"y16\"></li><li id=\"y15\"></li><li id=\"y14\"></l","i><li id=\"y13\"></li><li id=\"y12\"></li><li id=\"y11\"></li><li id=\"y10\"></li></ul></div><canvas id=\"c1\" width=\"450\" height=\"250\"></","canvas><div class=\"x\"><ul><li id=\"z1\"></li><li id=\"x10\"></li><li id=\"x11\"></li><li id=\"x12\"></li><li id=\"x13\"></li><li id=\"x14\">","</li><li id=\"x15\"></li><li id=\"x16\"></li><li id=\"x17\"></li><li id=\"x18\"></li><li id=\"x19\"></li></ul></div></div><div class=\"grap","h\"><div class=\"status\"><ul><li id=\"g2\"></li><li id=\"dt2\"></li><li id=\"v2\"></li><li id=\"s2\"></li></ul></div><div class=\"y\"><div i","d=\"dim2\"></div><ul><li id=\"y29\"></li><li id=\"y28\"></li><li id=\"y27\"></li><li id=\"y26\"></li><li id=\"y25\"></li><li id=\"y24\"></li><","li id=\"y23\"></li><li id=\"y22\"></li><li id=\"y21\"></li><li id=\"y20\"></li></ul></div><canvas id=\"c2\" width=\"450\" height=\"250\"></can","vas><div class=\"x\"><ul><li id=\"z2\"></li><li id=\"x20\"></li><li id=\"x21\"></li><li id=\"x22\"></li><li id=\"x23\"></li><li id=\"x24\"></l","i><li id=\"x25\"></li><li id=\"x26\"></li><li id=\"x27\"></li><li id=\"x28\"></li><li id=\"x29\"></li></ul></div></div><div class=\"graph\">","<div class=\"status\"><ul><li id=\"g3\"></li><li id=\"dt3\"></li><li id=\"v3\"></li><li id=\"s3\"></li></ul></div><div class=\"y\"><div id=\"","dim3\"></div><ul><li id=\"y39\"></li><li id=\"y38\"></li><li id=\"y37\"></li><li id=\"y36\"></li><li id=\"y35\"></li><li id=\"y34\"></li><li ","id=\"y33\"></li><li id=\"y32\"></li><li id=\"y31\"></li><li id=\"y30\"></li></ul></div><canvas id=\"c3\" width=\"450\" height=\"250\"></canvas","><div class=\"x\"><ul><li id=\"z3\"></li><li id=\"x30\"></li><li id=\"x31\"></li><li id=\"x32\"></li><li id=\"x33\"></li><li id=\"x34\"></li><","li id=\"x35\"></li><li id=\"x36\"></li><li id=\"x37\"></li><li id=\"x38\"></li><li id=\"x39\"></li></ul></div></div></div><script>window.o","nload = function(){os(0);os(1);os(2);os(3);gById(\"ld\",\"\");};var xPts=10,yPts=10,reg=/\\[(\\d),(\\d{1,}),(\\d{1,}),(\\d{1,}),(\\d{1,}),","(\\d{1,}.\\d{1,})\\]/,n=\'N/A\',ch=250,cw=450,d,y=[[],[],[],[]],x=[[],[],[],[]],ad,dd,D,t,G={0:document.getElementById(\"c0\").getConte","xt(\"2d\"),1:document.getElementById(\"c1\").getContext(\"2d\"),2:document.getElementById(\"c2\").getContext(\"2d\"),3:document.getElement","ById(\"c3\").getContext(\"2d\")},gas={0:n,1:\'O<sub>2</sub>\',2:\'H<sub>2</sub>\',3:\'CH<sub>4</sub>\',14:\'NO<sub>2</sub>\'},dt={0:n,1:\'Ele","ktrohim\',2:\'Termokat\',3:\'Semicond\'},v={0:n,30:\'3 B\',50:\'5 B\'},s={1:\'Active\',2:\'No Data\',3:\'Not connected\'},dim={0:n,1:\'ppm\',3:\'%","\'};function get(){var xmlhttp;try{xmlhttp=new ActiveXObject(\"Msxml2.XMLHTTP\");}catch(e){try{xmlhttp=new ActiveXObject(\"Microsoft",".XMLHTTP\");}catch(E){xmlhttp=false;}}if(!xmlhttp&&typeof XMLHttpRequest!=\'undefined\'){xmlhttp=new XMLHttpRequest();}xmlhttp.open","(\'GET\',\'s.php?a=1\',true);xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4){if(xmlhttp.status==200){d=reg.exec(xmlh","ttp.responseText);gById(\"data\",xmlhttp.responseText);if(d==null){gById(\"status\",\"err\");go();return;}gById(\"status\",\"ok\");ad=d[1]",";dd=d[6];gById(\"dt\"+ad,dt[d[2]]);gById(\"g\"+ad,gas[parseInt(d[3])]);gById(\"v\"+ad,v[d[5]]);gById(\"s\"+ad,(dd)?s[1]:s[2]);if(dd==0){","go();return;}gById(\"dim\"+ad,\'C, \'+dim[d[4]]);gById(\"z\"+ad,0);D=new Date(),t=D.getHours()+\':\'+((D.getMinutes()<10)?\'0\'+D.getMinut","es():D.getMinutes());if(y[ad].length >= xPts){for(var i=0;i<xPts-1;i++){y[ad][i]=y[ad][i+1];x[ad][i]=x[ad][i+1];}x[ad][xPts-1]=t",";y[ad][xPts-1]=dd;}else{x[ad].push(t);y[ad].push(dd);}newGraph();go();}}};xmlhttp.send(null);};function gById(id,v){document.get","ElementById(id).innerHTML=v;};function MAX(a){var r=0;for(var i=0;i<a.length;i++)if(parseInt(a[i])>r)r=a[i];return r;};function ","os(g){G[g].beginPath(); G[g].lineWidth=\"2\";G[g].strokeStyle=\"green\";G[g].moveTo(4,16);G[g].lineTo(1,1);G[g].lineTo(1,ch-1);G[g].","lineTo(cw-1,ch-1);G[g].lineTo(cw-16,ch-4);G[g].stroke();G[g].strokeStyle=\"#000\";};function go(){var sel=document.getElementById(","\"time\"),z=sel.options[sel.selectedIndex].value;if(z!=0)setTimeout(get,z*1000);};function newGraph(){var max = 0,lvl = 0,curlvl ="," 0,rest = 0,shag = 1000;if(d[4]===\'3\') {max = 100;shag = 10;}else if(d[4] === \'1\'){max = MAX(y[ad]);if(max<8000){shag = 100;}res","t = max % shag;max = parseFloat(max) + shag - rest;}lvl = max / yPts;gById(\'y\'+ad+\"9\",max);for(var j=0;j<yPts-1;j++){curlvl += l","vl;rest = curlvl % shag;gById(\'y\'+ad+j,curlvl-rest);}curlvl=0;for(var j=0;j<xPts;j++){if(x[ad][j])gById(\'x\'+ad+j,x[ad][j]);}G[ad","].fillStyle = \"#fff\";G[ad].fillRect(0, 0, cw, ch);G[ad].fillStyle = \"#000\";os(ad);for(var j=0;j<y[ad].length;j++){G[ad].beginPat","h();G[ad].arc(j*(cw-30)/xPts+20,Math.ceil((ch-(ch*parseFloat(y[ad][j])/max)))+11,2,0,2*Math.PI);G[ad].fill();G[ad].stroke();}};<","/script></body></html>",